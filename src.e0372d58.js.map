{"version":3,"sources":["js/refs.js","index.js"],"names":["productBox","document","querySelector","productButton","overlay","modal","modalCounter","modalClearCounter","closeButton","imageOverlay","refs","addEventListener","toggleModal","onClearCount","openModalHandler","counterValue","classList","contains","textContent","localStorage","setItem","JSON","stringify","remove","add","toggle","removeItem","e","preventDefault","target","nodeName","window","altModalCloseHandler","escapeHanler","closeModalHandler","removeEventListener","code","parse","getItem"],"mappings":";;;AASe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EARf,MAAMA,EAAaC,SAASC,cAAc,QACpCC,EAAgBF,SAASC,cAAc,WACvCE,EAAUH,SAASC,cAAc,YACjCG,EAAQJ,SAASC,cAAc,UAC/BI,EAAeL,SAASC,cAAc,kBACtCK,EAAoBN,SAASC,cAAc,uBAC3CM,EAAcP,SAASC,cAAc,oBACrCO,EAAeR,SAASC,cAAc,aAC7B,IAAA,EAAA,CAEbF,WAAAA,EACAG,cAAAA,EACAC,QAAAA,EACAC,MAAAA,EACAC,aAAAA,EACAC,kBAAAA,EACAC,YAAAA,EACAC,aAAAA,GATa,QAAA,QAAA;;AC2Dd,aApED,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,cAmEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAxDDC,EAAKF,QAAAA,YAAYG,iBAAiB,QAASC,GAC3CF,EAAKH,QAAAA,kBAAkBI,iBAAiB,QAASE,GACjDH,EAAKP,QAAAA,cAAcQ,iBAAiB,QAASC,GAC7CF,EAAKV,QAAAA,WAAWW,iBAAiB,QAASG,GAE1C,IAAIC,EAAe,EAKnB,SAASH,IACHF,EAAKN,QAAAA,QAAQY,UAAUC,SAAS,eAClCF,GAAgB,EACXT,EAAAA,QAAAA,aAAaY,YAAcH,EAChCI,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUP,IACpDA,GAAgB,EACZL,EAAKH,QAAAA,kBAAkBS,UAAUO,OAAO,aACxCb,EAAKH,QAAAA,kBAAkBS,UAAUQ,IAAI,cAEtCpB,EAAAA,QAAAA,QAAQY,UAAUS,OAAO,aAGhC,SAASZ,IACPM,aAAaO,WAAW,gBACxBX,EAAe,EACVT,EAAAA,QAAAA,aAAaY,YAAcH,EAC3BR,EAAAA,QAAAA,kBAAkBS,UAAUQ,IAAI,aAKvC,SAASV,EAAiBa,GACxBA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,WAGRrB,EAAAA,QAAAA,aAAaO,UAAUO,OAAO,aACnCQ,OAAOpB,iBAAiB,QAASqB,GACjCD,OAAOpB,iBAAiB,UAAWsB,IAErC,SAASC,IACFzB,EAAAA,QAAAA,aAAaO,UAAUQ,IAAI,aAChCO,OAAOI,oBAAoB,QAASH,GACpCD,OAAOI,oBAAoB,UAAWF,GAExC,SAASD,EAAqBL,GACF,QAAtBA,EAAEE,OAAOC,UAGbI,IAEF,SAASD,EAAaN,GACL,WAAXA,EAAES,MAGNF,IAjDFb,KAAKgB,MAAMlB,aAAamB,QAAQ,iBAAmB,IAChDvB,EAAeM,KAAKgB,MAAMlB,aAAamB,QAAQ","file":"src.e0372d58.js","sourceRoot":"..\\src","sourcesContent":["// const gallery = document.querySelector('.js-gallery');  ---for multiple cards template\r\nconst productBox = document.querySelector('.box');\r\nconst productButton = document.querySelector('.button');\r\nconst overlay = document.querySelector('.overlay');\r\nconst modal = document.querySelector('.modal');\r\nconst modalCounter = document.querySelector('.modal_counter');\r\nconst modalClearCounter = document.querySelector('.modal_clear-couter');\r\nconst closeButton = document.querySelector('.modal_close-btn');\r\nconst imageOverlay = document.querySelector('.lightbox');\r\nexport default {\r\n  // gallery, ---for multiple cards template\r\n  productBox,\r\n  productButton,\r\n  overlay,\r\n  modal,\r\n  modalCounter,\r\n  modalClearCounter,\r\n  closeButton,\r\n  imageOverlay,\r\n};\r\n","import './sass/main.scss';\r\nimport refs from './js/refs';\r\n\r\n// import { productsList } from './js/template'; for multiple cards template\r\n\r\n//======================== nodes for multiple cards template case ==============================\r\n// refs.gallery.insertAdjacentHTML('beforeend', productsList);\r\n// const productBox = document.querySelector('.box');\r\n// const productButton = document.querySelector('.button');\r\n\r\n//=============== event listeners ================\r\n\r\nrefs.closeButton.addEventListener('click', toggleModal);\r\nrefs.modalClearCounter.addEventListener('click', onClearCount);\r\nrefs.productButton.addEventListener('click', toggleModal);\r\nrefs.productBox.addEventListener('click', openModalHandler);\r\n\r\nlet counterValue = 0;\r\nJSON.parse(localStorage.getItem('counterValue')) > 0 &&\r\n  (counterValue = JSON.parse(localStorage.getItem('counterValue')));\r\n\r\n//================= callBack functions =================\r\nfunction toggleModal() {\r\n  if (refs.overlay.classList.contains('is-hidden')) {\r\n    counterValue += 1;\r\n    refs.modalCounter.textContent = counterValue;\r\n    localStorage.setItem('counterValue', JSON.stringify(counterValue));\r\n    counterValue >= 5\r\n      ? refs.modalClearCounter.classList.remove('is-hidden')\r\n      : refs.modalClearCounter.classList.add('is-hidden');\r\n  }\r\n  refs.overlay.classList.toggle('is-hidden');\r\n}\r\n\r\nfunction onClearCount() {\r\n  localStorage.removeItem('counterValue');\r\n  counterValue = 0;\r\n  refs.modalCounter.textContent = counterValue;\r\n  refs.modalClearCounter.classList.add('is-hidden');\r\n}\r\n\r\n//================= callBack functions fo Image click overlay =================\r\n\r\nfunction openModalHandler(e) {\r\n  e.preventDefault();\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  refs.imageOverlay.classList.remove('is-hidden');\r\n  window.addEventListener('click', altModalCloseHandler);\r\n  window.addEventListener('keydown', escapeHanler);\r\n}\r\nfunction closeModalHandler() {\r\n  refs.imageOverlay.classList.add('is-hidden');\r\n  window.removeEventListener('click', altModalCloseHandler);\r\n  window.removeEventListener('keydown', escapeHanler);\r\n}\r\nfunction altModalCloseHandler(e) {\r\n  if (e.target.nodeName === 'IMG') {\r\n    return;\r\n  }\r\n  closeModalHandler();\r\n}\r\nfunction escapeHanler(e) {\r\n  if (e.code !== 'Escape') {\r\n    return;\r\n  }\r\n  closeModalHandler();\r\n}\r\n"]}