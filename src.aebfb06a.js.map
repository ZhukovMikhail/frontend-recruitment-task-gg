{"version":3,"sources":["js/refs.js","index.js"],"names":["productBox","document","querySelector","productButton","overlay","modal","modalCounter","modalClearCounter","closeButton","imageOverlay","refs","addEventListener","toggleModal","onClearCount","openModalHandler","counterValue","classList","contains","textContent","localStorage","setItem","JSON","stringify","remove","add","toggle","removeItem","e","preventDefault","target","nodeName","window","altModalCloseHandler","escapeHanler","closeModalHandler","removeEventListener","code","parse","getItem"],"mappings":";;;AASe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EARf,MAAMA,EAAaC,SAASC,cAAc,QACpCC,EAAgBF,SAASC,cAAc,WACvCE,EAAUH,SAASC,cAAc,YACjCG,EAAQJ,SAASC,cAAc,UAC/BI,EAAeL,SAASC,cAAc,kBACtCK,EAAoBN,SAASC,cAAc,uBAC3CM,EAAcP,SAASC,cAAc,oBACrCO,EAAeR,SAASC,cAAc,aAC7B,IAAA,EAAA,CAEbF,WAAAA,EACAG,cAAAA,EACAC,QAAAA,EACAC,MAAAA,EACAC,aAAAA,EACAC,kBAAAA,EACAC,YAAAA,EACAC,aAAAA,GATa,QAAA,QAAA;;AC2Dd,aApED,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,cAmEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAxDDC,EAAKF,QAAAA,YAAYG,iBAAiB,QAASC,GAC3CF,EAAKH,QAAAA,kBAAkBI,iBAAiB,QAASE,GACjDH,EAAKP,QAAAA,cAAcQ,iBAAiB,QAASC,GAC7CF,EAAKV,QAAAA,WAAWW,iBAAiB,QAASG,GAE1C,IAAIC,EAAe,EAKnB,SAASH,IACHF,EAAKN,QAAAA,QAAQY,UAAUC,SAAS,eAClCF,GAAgB,EACXT,EAAAA,QAAAA,aAAaY,YAAcH,EAChCI,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUP,IACpDA,GAAgB,EACZL,EAAKH,QAAAA,kBAAkBS,UAAUO,OAAO,aACxCb,EAAKH,QAAAA,kBAAkBS,UAAUQ,IAAI,cAEtCpB,EAAAA,QAAAA,QAAQY,UAAUS,OAAO,aAGhC,SAASZ,IACPM,aAAaO,WAAW,gBACxBX,EAAe,EACVT,EAAAA,QAAAA,aAAaY,YAAcH,EAC3BR,EAAAA,QAAAA,kBAAkBS,UAAUQ,IAAI,aAKvC,SAASV,EAAiBa,GACxBA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,WAGRrB,EAAAA,QAAAA,aAAaO,UAAUO,OAAO,aACnCQ,OAAOpB,iBAAiB,QAASqB,GACjCD,OAAOpB,iBAAiB,UAAWsB,IAErC,SAASC,IACFzB,EAAAA,QAAAA,aAAaO,UAAUQ,IAAI,aAChCO,OAAOI,oBAAoB,QAASH,GACpCD,OAAOI,oBAAoB,UAAWF,GAExC,SAASD,EAAqBL,GACF,QAAtBA,EAAEE,OAAOC,UAGbI,IAEF,SAASD,EAAaN,GACL,WAAXA,EAAES,MAGNF,IAjDFb,KAAKgB,MAAMlB,aAAamB,QAAQ,iBAAmB,IAChDvB,EAAeM,KAAKgB,MAAMlB,aAAamB,QAAQ","file":"src.aebfb06a.js","sourceRoot":"../src","sourcesContent":["// const gallery = document.querySelector('.js-gallery');  ---for multiple cards template\nconst productBox = document.querySelector('.box');\nconst productButton = document.querySelector('.button');\nconst overlay = document.querySelector('.overlay');\nconst modal = document.querySelector('.modal');\nconst modalCounter = document.querySelector('.modal_counter');\nconst modalClearCounter = document.querySelector('.modal_clear-couter');\nconst closeButton = document.querySelector('.modal_close-btn');\nconst imageOverlay = document.querySelector('.lightbox');\nexport default {\n  // gallery, ---for multiple cards template\n  productBox,\n  productButton,\n  overlay,\n  modal,\n  modalCounter,\n  modalClearCounter,\n  closeButton,\n  imageOverlay,\n};\n","import './sass/main.scss';\nimport refs from './js/refs';\n\n// import { productsList } from './js/template'; for multiple cards template\n\n//======================== nodes for multiple cards template case ==============================\n// refs.gallery.insertAdjacentHTML('beforeend', productsList);\n// const productBox = document.querySelector('.box');\n// const productButton = document.querySelector('.button');\n\n//=============== event listeners ================\n\nrefs.closeButton.addEventListener('click', toggleModal);\nrefs.modalClearCounter.addEventListener('click', onClearCount);\nrefs.productButton.addEventListener('click', toggleModal);\nrefs.productBox.addEventListener('click', openModalHandler);\n\nlet counterValue = 0;\nJSON.parse(localStorage.getItem('counterValue')) > 0 &&\n  (counterValue = JSON.parse(localStorage.getItem('counterValue')));\n\n//================= callBack functions =================\nfunction toggleModal() {\n  if (refs.overlay.classList.contains('is-hidden')) {\n    counterValue += 1;\n    refs.modalCounter.textContent = counterValue;\n    localStorage.setItem('counterValue', JSON.stringify(counterValue));\n    counterValue >= 5\n      ? refs.modalClearCounter.classList.remove('is-hidden')\n      : refs.modalClearCounter.classList.add('is-hidden');\n  }\n  refs.overlay.classList.toggle('is-hidden');\n}\n\nfunction onClearCount() {\n  localStorage.removeItem('counterValue');\n  counterValue = 0;\n  refs.modalCounter.textContent = counterValue;\n  refs.modalClearCounter.classList.add('is-hidden');\n}\n\n//================= callBack functions fo Image click overlay =================\n\nfunction openModalHandler(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  refs.imageOverlay.classList.remove('is-hidden');\n  window.addEventListener('click', altModalCloseHandler);\n  window.addEventListener('keydown', escapeHanler);\n}\nfunction closeModalHandler() {\n  refs.imageOverlay.classList.add('is-hidden');\n  window.removeEventListener('click', altModalCloseHandler);\n  window.removeEventListener('keydown', escapeHanler);\n}\nfunction altModalCloseHandler(e) {\n  if (e.target.nodeName === 'IMG') {\n    return;\n  }\n  closeModalHandler();\n}\nfunction escapeHanler(e) {\n  if (e.code !== 'Escape') {\n    return;\n  }\n  closeModalHandler();\n}\n"]}